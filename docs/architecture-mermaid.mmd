graph TB
    subgraph "ğŸ–¥ï¸ Frontend - React + TypeScript"
        A[App.tsx<br/>Estado Global] --> B[ğŸ§­ Navigation<br/>Tab Switching]
        A --> C[ğŸ“„ Main Content<br/>View Rendering]
        
        B --> D[ğŸ—ï¸ Builder Tab<br/>Query Construction]
        B --> E[ğŸ’» Editor Tab<br/>SQL Editing] 
        B --> F[ğŸ“Š Results Tab<br/>Data Display]
        B --> G[ğŸ“ Management Tab<br/>Save/Load]
        
        C --> H[AdvancedQueryBuilder<br/>Drag & Drop Interface]
        C --> I[SqlEditor<br/>Monaco Editor]
        C --> J[QueryResults<br/>Table + Export]
        C --> K[QueryManagement<br/>CRUD Operations]
    end
    
    subgraph "âš™ï¸ Backend - Node.js + Express"
        L[Server.js<br/>API Gateway] --> M[ğŸ›£ï¸ API Routes<br/>REST Endpoints]
        M --> N[ğŸ“‹ /api/schema<br/>Database Structure]
        M --> O[â–¶ï¸ /api/execute<br/>Query Execution]
        M --> P[ğŸ—‚ï¸ /api/tables<br/>Table Operations]
    end
    
    subgraph "ğŸ—„ï¸ Database Layer"
        Q[(PostgreSQL<br/>Main Database)]
        Q --> R[ğŸ‘¥ users<br/>User Data]
        Q --> S[ğŸ›ï¸ products<br/>Product Catalog]
        Q --> T[ğŸ“¦ orders<br/>Order History]
        Q --> U[ğŸ·ï¸ categories<br/>Product Categories]
    end
    
    A -.->|HTTP Requests| L
    L -.->|SQL Queries| Q
    
    subgraph "ğŸ§© Component Architecture"
        H --> H1[ğŸ” FieldSearch<br/>Search & Filter]
        H --> H2[ğŸ“‹ FieldsPanel<br/>Available Fields]
        H --> H3[ğŸ¯ QueryCanvas<br/>Drop Zones]
        
        H2 --> H2A[SelectableField<br/>Dimension]
        H2 --> H2B[SelectableField<br/>Metric]
        H2 --> H2C[SelectableField<br/>Filter]
        
        H3 --> H3A[DropZone SELECT<br/>Field Selection]
        H3 --> H3B[DropZone FROM<br/>Table Selection]
        H3 --> H3C[DropZone WHERE<br/>Conditions]
        H3 --> H3D[DropZone GROUP BY<br/>Grouping]
        
        I --> I1[Monaco Editor<br/>Syntax Highlighting]
        I --> I2[SQL Validation<br/>Error Checking]
        I --> I3[Editor Controls<br/>Edit/Preview/Reset]
        
        J --> J1[Results Table<br/>Data Grid]
        J --> J2[Export CSV<br/>Download Data]
        J --> J3[Create Table<br/>Persist Results]
        
        K --> K1[Save Dialog<br/>Store Query]
        K --> K2[Load Dialog<br/>Retrieve Query]
        K --> K3[Query List<br/>Browse Saved]
    end
    
    subgraph "ğŸ“Š Data Flow"
        DF1[User Interaction] --> DF2[State Update]
        DF2 --> DF3[SQL Generation]
        DF3 --> DF4[API Request]
        DF4 --> DF5[Database Query]
        DF5 --> DF6[Results Display]
    end
    
    subgraph "ğŸ¨ Current Styling Issues"
        CSS1[App.css<br/>1623 lines] --> CSS2[âŒ Monolithic CSS]
        CSS1 --> CSS3[âŒ No Design System]
        CSS1 --> CSS4[âŒ Inconsistent Patterns]
        CSS1 --> CSS5[âŒ Poor Mobile Support]
    end
    
    subgraph "ğŸš€ Modernization Plan"
        MOD1[ğŸ¯ Phase 1<br/>Setup Tailwind] --> MOD2[ğŸ¨ Phase 2<br/>Design Tokens]
        MOD2 --> MOD3[ğŸ“± Phase 3<br/>Responsive Design]
        MOD3 --> MOD4[â™¿ Phase 4<br/>Accessibility]
    end
    
    %% Styling
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style L fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px
    style Q fill:#e8f5e8,stroke:#388e3c,stroke-width:3px
    
    style H fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style I fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    style J fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style K fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    
    style CSS1 fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px
    style MOD1 fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
